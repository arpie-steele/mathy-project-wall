$[ set.mm $]

$(
  Add to #bib section of mmset.raw.html :

  <LI><A NAME="Bruck"></A> [Bruck] Richard Hubert Bruck, <I>A Survey
  of Binary Systems</I>, 3rd Edition, Springer-Verlag Berlin,
  Heidelberg (1971);</LI>

$)

$(
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#
                   Single-Valued Mappings and Partial Binary Operations
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#
$)

  $c PartialBinOp $.
  $( Partial binary operation. $)
  cpbo $a class PartialBinOp $.

  ${
    $d g h x A $.  $d g h x G $.  $d g h x H $.

    $( A single-valued mapping ` A ` of a set ` G ` into a set ` H ` is a
       correspondence which assigns to each ` g ` in ` G ` a unique element
       ` ( A `` g ) ` in ` H ` .

       [Bruck] p. 1 (Contributed by Richard Penner, 28-Sep-2019.) $)
    fveu2 $p |- ( A : G --> H -> A. g e. G E! h e. H ( A ` g ) = h ) $=
      cG cH cA wf vg cv cA cfv vh cv wceq vh cH wreu vg cG cG cH cA wf cA cG
      wfn cA crn cH wss wa vg cv cG wcel vg cv cA cfv vh cv wceq vh cH wreu wi
      cG cH cA df-f cA cG wfn cA crn cH wss vg cv cG wcel vg cv cA cfv vh cv
      wceq vh cH wreu cA cG wfn cA crn cH wss vg cv cG wcel w3a vh cv cH wcel
      vg cv cA cfv vh cv wceq wa vh weu vg cv cA cfv vh cv wceq vh cH wreu cA
      cG wfn cA crn cH wss vg cv cG wcel w3a vh cv cH wcel vg cv cA cfv vh cv
      wceq wa vh vx weq wb vh wal vx wex vh cv cH wcel vg cv cA cfv vh cv wceq
      wa vh weu cA cG wfn cA crn cH wss vg cv cG wcel w3a vh cv cH wcel vg cv
      cA cfv vh cv wceq wa vh vx weq wb vh wal vx vg cv cA cfv vx cv wceq cA cG
      wfn cA crn cH wss vg cv cG wcel w3a vh cv cH wcel vg cv cA cfv vh cv wceq
      wa vh vx weq wb vh wal wi vx vx cv vg cv cA cfv wceq vg cv cA cfv vx cv
      wceq vx vx vg cv cA cfv vg cv cA fvex isseti vx cv vg cv cA cfv wceq vg
      cv cA cfv vx cv wceq vx cv vg cv cA cfv eqcom biimpi eximii vg cv cA cfv
      vx cv wceq cA cG wfn cA crn cH wss vg cv cG wcel w3a vh cv cH wcel vg cv
      cA cfv vh cv wceq wa vh vx weq wb vh vg cv cA cfv vx cv wceq cA cG wfn cA
      crn cH wss vg cv cG wcel w3a vh cv cH wcel vg cv cA cfv vh cv wceq wa vh
      vx weq vg cv cA cfv vx cv wceq cA cG wfn cA crn cH wss vg cv cG wcel w3a
      vh cv cH wcel vg cv cA cfv vh cv wceq wa vh vx weq vg cv cA cfv vx cv
      wceq vh cv cH wcel vg cv cA cfv vh cv wceq wa vh vx weq cA cG wfn cA crn
      cH wss vg cv cG wcel w3a vg cv cA cfv vx cv wceq vg cv cA cfv vh cv wceq
      vh vx weq vh cv cH wcel vg cv cA cfv vh cv wceq vg cv cA cfv vx cv wceq
      vh vx weq vg cv cA cfv vh cv vx cv eqtr2 ancoms adantrl 3adant2 3exp vg
      cv cA cfv vx cv wceq cA cG wfn cA crn cH wss vg cv cG wcel w3a vh vx weq
      vh cv cH wcel vg cv cA cfv vh cv wceq wa vg cv cA cfv vx cv wceq cA cG
      wfn cA crn cH wss vg cv cG wcel w3a vh vx weq w3a vh cv cH wcel vg cv cA
      cfv vh cv wceq vg cv cA cfv vx cv wceq cA cG wfn cA crn cH wss vg cv cG
      wcel w3a vh vx weq vh cv cH wcel cA cG wfn cA crn cH wss vg cv cG wcel
      w3a vg cv cA cfv vx cv wceq vh vx weq vh cv cH wcel wi cA cG wfn cA crn
      cH wss vg cv cG wcel vg cv cA cfv vx cv wceq vh vx weq vh cv cH wcel wi
      wi cA cG wfn vg cv cG wcel cA crn cH wss vg cv cA cfv vx cv wceq vh vx
      weq vh cv cH wcel wi wi cA cG wfn vg cv cG wcel cA crn cH wss vg cv cA
      cfv vx cv wceq vh vx weq vh cv cH wcel wi wi wi cA cG wfn vg cv cG wcel
      wa vg cv cA cfv cA crn wcel cA crn cH wss vg cv cA cfv vx cv wceq vh vx
      weq vh cv cH wcel wi wi wi cG vg cv cA fnfvelrn cA crn cH wss vg cv cA
      cfv cA crn wcel vg cv cA cfv vx cv wceq vh vx weq vh cv cH wcel wi wi cA
      crn cH wss vg cv cA cfv cA crn wcel wa vg cv cA cfv cH wcel vg cv cA cfv
      vx cv wceq vh vx weq vh cv cH wcel wi wi cA crn cH vg cv cA cfv ssel2 vh
      vx weq vg cv cA cfv vx cv wceq vg cv cA cfv cH wcel vh cv cH wcel vh vx
      weq vg cv cA cfv vx cv wceq vg cv cA cfv cH wcel vh cv cH wcel wi vh vx
      weq vg cv cA cfv vx cv wceq wa vh cv vg cv cA cfv wceq vg cv cA cfv cH
      wcel vh cv cH wcel wi vh cv vg cv cA cfv vx cv eqtr3 vg cv cA cfv cH wcel
      vh cv cH wcel wi vg cv cA cfv vh cv vg cv cA cfv vh cv wceq vg cv cA cfv
      cH wcel vh cv cH wcel vg cv cA cfv vh cv cH eleq1 biimpd eqcoms syl ex
      com13 syl expcom syl ex com23 3imp com12 3imp vg cv cA cfv vx cv wceq vh
      vx weq vg cv cA cfv vh cv wceq cA cG wfn cA crn cH wss vg cv cG wcel w3a
      vg cv cA cfv vh cv vx cv eqtr3 3adant2 jca 3exp impbidd alrimdv eximii
      19.37aiv vh cv cH wcel vg cv cA cfv vh cv wceq wa vh vx df-eu sylibr vg
      cv cA cfv vh cv wceq vh cH df-reu sylibr 3expia sylbi ralrimiv $.

  $}

  ${
    $d g A $.  $d g B $.  $d g G $.  $d g H $.

    $( If ` A , B ` are single-valued mappings of ` G ` into ` H ` then
       ` A = B ` if and only if ` ( A `` g ) = ( B `` g ) ` for every ` g ` in
       ` G ` .  See ~ eqfnfv .

       [Bruck] p. 1 (Contributed by Richard Penner, 26-Sep-2019.) $)
    eqffv $p |- ( ( A : G --> H /\ B : G --> H ) -> ( A = B <->
              A. g e. G ( A ` g ) = ( B ` g ) ) ) $=
      cG cH cA wf cG cH cB wf wa cA cG wfn cB cG wfn wa cA cB wceq vg cv cA cfv
      vg cv cB cfv wceq vg cG wral wb cG cH cA wf cA cG wfn cG cH cB wf cB cG
      wfn cG cH cA ffn cG cH cB ffn anim12i vg cG cA cB eqfnfv syl $.
  $}

  ${
    $( We allow the possibility that ` G ` may be the empty set.

       [Bruck] p. 1

       (Contributed by Richard Penner, 26-Sep-2019.) $)
    0fex $p |- ( ( A : G --> H /\ G = (/) ) -> A e. _V ) $=
    cG c0 wceq cG cH cA wf cG cvv wcel cA cvv wcel c0 cvv wcel cG c0 wceq cG
    cvv wcel wi 0ex c0 cvv cG eleq1a ax-mp cG cH cvv cA fex sylan2 $.
  $}

  ${
  $( If ` G , H ` are non-empty sets, the logical product
     ` G X. H ` is the set of all ordered pairs ` <. a , b >. ` ,
     ` a ` in ` G ` , ` b ` in ` H ` , where
     ` <. a , b >. = <. c , d >. ` if and only if ` a = c ` , ` b = d ` .
     See ~ df-xp and ~ opthg .

     [Bruck] p. 1
  $)
  $}

  ${
    $d x y u v $.
    $( By a (single-valued) _binary operation_ ` A ` on the (non-empty) set G
       we mean a single-valued mapping ` A ` from some subset ` dom A ` of
       ` G X. G ` into G. Here ` dom A ` is the is the _domain_ of ` A ` ;

       *N. B.* Bruck uses _range_ for what metamath calls ` dom ` .

       Definition binary operation in [Bruck] p. 1 $)
    df-pbo $a |- PartialBinOp = { <. x , y >. | ( y =/= (/) /\ x C_ ( ( y X. y ) X. y ) /\ A. u E* v u x v ) } $.
  $}

  ${
    $d x y u v $.
    $( Partial Binary Operation is a relation.  (Contributed by Richard Penner,
       28-Sep-2019.) $)
    relpbo $p |- Rel PartialBinOp $=
      vy cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv
      wmo vu wal w3a vx vy cpbo vx vy vv vu df-pbo relopabi $.
  $}

  ${
    $( If classes are related by Partial Binary Operation, both classes are
       sets.  (Contributed by Richard Penner, 28-Sep-2019.) $)
    pbocv $p |- ( A PartialBinOp B -> ( A e. _V /\ B e. _V ) ) $=
      cpbo wrel cA cB cpbo wbr cA cvv wcel cB cvv wcel wa relpbo cA cB cpbo
      brrelex12 mpan $.
  $}

  ${
    $d u v x y A $.  $d x y B $.
    $( Partial Binary Operation relation.  (Contributed by Richard Penner,
       28-Sep-2019.) $)
    brpbo $p |- ( A PartialBinOp B <-> ( ( A e. _V /\ B e. _V ) /\ ( B =/= (/) /\ A C_ ( ( B X. B ) X. B ) /\ A. u E* v u A v ) ) ) $=
      cA cB cpbo wbr cA cvv wcel cB cvv wcel wa cA cvv wcel cB cvv wcel wa cB
      c0 wne cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a wa cA
      cB pbocv cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss vu
      cv vv cv cA wbr vv wmo vu wal w3a simpl vy cv c0 wne vx cv vy cv vy cv
      cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu wal w3a cA cvv wcel vy
      cv c0 wne cA vy cv vy cv cxp vy cv cxp wss vu cv vv cv cA wbr vv wmo vu
      wal w3a wa cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss
      vu cv vv cv cA wbr vv wmo vu wal w3a wa vx vy cA cB cvv cvv cpbo vx cv cA
      wceq vy cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv
      wbr vv wmo vu wal w3a cA cvv wcel vy cv c0 wne cA vy cv vy cv cxp vy cv
      cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a wa vx cv cA wceq vy cv c0
      wne vx cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu
      wal w3a cA cvv wcel vy cv c0 wne cA vy cv vy cv cxp vy cv cxp wss vu cv
      vv cv cA wbr vv wmo vu wal w3a vx cv cA wceq cA cvv wcel vy cv c0 wne vx
      cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu wal w3a
      vx cA eqvisset a1d vx cv cA wceq vy cv c0 wne vy cv c0 wne vx cv vy cv vy
      cv cxp vy cv cxp wss cA vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv
      wbr vv wmo vu wal vu cv vv cv cA wbr vv wmo vu wal vx cv cA wceq vy cv c0
      wne idd vx cv cA wceq vx cv vy cv vy cv cxp vy cv cxp wss cA vy cv vy cv
      cxp vy cv cxp wss vx cv cA vy cv vy cv cxp vy cv cxp sseq1 biimpd vx cv
      cA wceq vu cv vv cv vx cv wbr vv wmo vu wal vu cv vv cv cA wbr vv wmo vu
      wal vx cv cA wceq vu cv vv cv vx cv wbr vv wmo vu cv vv cv cA wbr vv wmo
      vu vx cv cA wceq vu ax-5 vx cv cA wceq vu cv vv cv vx cv wbr vu cv vv cv
      cA wbr vv vu cv vv cv vx cv cA breq mobidv albidh biimpd 3anim123d jcad
      vx cv cA wceq vy cv c0 wne cA vy cv vy cv cxp vy cv cxp wss vu cv vv cv
      cA wbr vv wmo vu wal w3a vy cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss
      vu cv vv cv vx cv wbr vv wmo vu wal w3a cA cvv wcel vy cv c0 wne cA vy cv
      vy cv cxp vy cv cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a vy cv c0 wne
      vx cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu wal
      w3a wi cA vx cv cA vx cv wceq vy cv c0 wne vy cv c0 wne cA vy cv vy cv
      cxp vy cv cxp wss vx cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv cA wbr
      vv wmo vu wal vu cv vv cv vx cv wbr vv wmo vu wal cA vx cv wceq vy cv c0
      wne idd cA vx cv wceq cA vy cv vy cv cxp vy cv cxp wss vx cv vy cv vy cv
      cxp vy cv cxp wss cA vx cv vy cv vy cv cxp vy cv cxp sseq1 biimpd cA vx
      cv wceq vu cv vv cv cA wbr vv wmo vu wal vu cv vv cv vx cv wbr vv wmo vu
      wal cA vx cv wceq vu cv vv cv cA wbr vv wmo vu cv vv cv vx cv wbr vv wmo
      vu cA vx cv wceq vu ax-5 cA vx cv wceq vu cv vv cv cA wbr vu cv vv cv vx
      cv wbr vv vu cv vv cv cA vx cv breq mobidv albidh biimpd 3anim123d eqcoms
      adantld impbid vy cv cB wceq cA cvv wcel vy cv c0 wne cA vy cv vy cv cxp
      vy cv cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a wa cA cvv wcel cB cvv
      wcel wa cB c0 wne cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu
      wal w3a wa vy cv cB wceq cA cvv wcel vy cv c0 wne cA vy cv vy cv cxp vy
      cv cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a wa cA cvv wcel cB cvv
      wcel wa cB c0 wne cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu
      wal w3a vy cv cB wceq cA cvv wcel cA cvv wcel cB cvv wcel wa vy cv c0 wne
      cA vy cv vy cv cxp vy cv cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a vy
      cv cB wceq cB cvv wcel cA cvv wcel cA cvv wcel cB cvv wcel wa wi vy cB
      eqvisset cA cvv wcel cB cvv wcel cA cvv wcel cB cvv wcel wa cA cvv wcel
      cB cvv wcel cA cvv wcel cB cvv wcel wa cA cvv wcel cB cvv wcel wa id ex
      com12 syl adantrd vy cv cB wceq vy cv c0 wne cA vy cv vy cv cxp vy cv cxp
      wss vu cv vv cv cA wbr vv wmo vu wal w3a cB c0 wne cA cB cB cxp cB cxp
      wss vu cv vv cv cA wbr vv wmo vu wal w3a cA cvv wcel vy cv cB wceq vy cv
      c0 wne cB c0 wne cA vy cv vy cv cxp vy cv cxp wss cA cB cB cxp cB cxp wss
      vu cv vv cv cA wbr vv wmo vu wal vu cv vv cv cA wbr vv wmo vu wal vy cv
      cB wceq vy cv c0 wne cB c0 wne vy cv cB c0 neeq1 biimpd vy cv cB wceq cA
      vy cv vy cv cxp vy cv cxp wss cA cB cB cxp cB cxp wss vy cv cB wceq vy cv
      vy cv cxp vy cv cxp cB cB cxp cB cxp wceq cA vy cv vy cv cxp vy cv cxp
      wss cA cB cB cxp cB cxp wss wb vy cv cB wceq vy cv vy cv cxp cB cB cxp
      wceq vy cv cB wceq wa vy cv vy cv cxp vy cv cxp cB cB cxp cB cxp wceq vy
      cv cB wceq vy cv vy cv cxp cB cB cxp wceq vy cv cB wceq vy cv cB wceq vy
      cv cB wceq wa vy cv vy cv cxp cB cB cxp wceq vy cv cB wceq vy cv cB wceq
      vy cv cB wceq vy cv cB wceq id vy cv cB wceq id jca vy cv cB vy cv cB
      xpeq12 syl ancri vy cv vy cv cxp cB cB cxp vy cv cB xpeq12 syl vy cv vy
      cv cxp vy cv cxp cB cB cxp cB cxp cA sseq2 syl biimpd vy cv cB wceq vu cv
      vv cv cA wbr vv wmo vu wal vu cv vv cv cA wbr vv wmo vu wal vy cv cB wceq
      vu cv vv cv cA wbr vv wmo vu wal biidd biimpd 3anim123d adantld jcad cA
      cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss vu cv vv cv cA
      wbr vv wmo vu wal w3a wa cA cvv wcel vy cv c0 wne cA vy cv vy cv cxp vy
      cv cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a wa wi cB vy cv cB vy cv
      wceq cA cvv wcel cB cvv wcel wa cA cvv wcel cB c0 wne cA cB cB cxp cB cxp
      wss vu cv vv cv cA wbr vv wmo vu wal w3a vy cv c0 wne cA vy cv vy cv cxp
      vy cv cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a cA cvv wcel cB cvv
      wcel wa cA cvv wcel wi cB vy cv wceq cA cvv wcel cB cvv wcel simpl a1i cB
      vy cv wceq cB c0 wne vy cv c0 wne cA cB cB cxp cB cxp wss cA vy cv vy cv
      cxp vy cv cxp wss vu cv vv cv cA wbr vv wmo vu wal vu cv vv cv cA wbr vv
      wmo vu wal cB vy cv wceq cB c0 wne vy cv c0 wne cB vy cv c0 neeq1 biimpd
      cB vy cv wceq cA cB cB cxp cB cxp wss cA vy cv vy cv cxp vy cv cxp wss cB
      vy cv wceq cB cB cxp cB cxp vy cv vy cv cxp vy cv cxp wceq cA cB cB cxp
      cB cxp wss cA vy cv vy cv cxp vy cv cxp wss wb cB vy cv wceq cB cB cxp vy
      cv vy cv cxp wceq cB vy cv wceq wa cB cB cxp cB cxp vy cv vy cv cxp vy cv
      cxp wceq cB vy cv wceq cB cB cxp vy cv vy cv cxp wceq cB vy cv wceq cB vy
      cv wceq cB vy cv wceq wa cB cB cxp vy cv vy cv cxp wceq cB vy cv wceq cB
      vy cv wceq cB vy cv wceq cB vy cv wceq id cB vy cv wceq id jca cB vy cv
      cB vy cv xpeq12 syl ancri cB cB cxp vy cv vy cv cxp cB vy cv xpeq12 syl
      cB cB cxp cB cxp vy cv vy cv cxp vy cv cxp cA sseq2 syl biimpd cB vy cv
      wceq vu cv vv cv cA wbr vv wmo vu wal idd 3anim123d anim12d eqcoms impbid
      vx vy vv vu df-pbo brabg pm5.21nii $.
  $}

  ${
    $d A u v $.
    $( Partial Binary Operation relation.  
       (Contributed by Richard Penner, 28-Sep-2019.) $)
    brpbo2 $p |- ( A PartialBinOp B <-> ( ( A e. _V /\ B e. _V ) /\ ( B =/= (/) /\ A C_ ( ( B X. B ) X. B ) /\ Fun A ) ) ) $=
      cA cB cpbo wbr cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp
      wss vu cv vv cv cA wbr vv wmo vu wal w3a wa cA cvv wcel cB cvv wcel wa cB
      c0 wne cA cB cB cxp cB cxp wss cA wfun w3a wa vv vu cA cB brpbo cA cvv
      wcel cB cvv wcel wa cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB
      cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a cB c0 wne cA cB cB cxp cB
      cxp wss cA wfun w3a cA cvv wcel cB cvv wcel wa biid cB c0 wne cA cB cB
      cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu wal w3a cB c0 wne cA cB cB
      cxp cB cxp wss cA wfun w3a cB c0 wne cA cB cB cxp cB cxp wss vu cv vv cv
      cA wbr vv wmo vu wal w3a cB c0 wne cA cB cB cxp cB cxp wss cA wfun cB c0
      wne cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu wal simp1 cB c0
      wne cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu wal simp2 cA cB
      cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu wal cA wfun cB c0 wne cA
      cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu wal wa cA wrel vu cv vv
      cv cA wbr vv wmo vu wal wa cA wfun cA cB cB cxp cB cxp wss vu cv vv cv cA
      wbr vv wmo vu wal wa cA wrel vu cv vv cv cA wbr vv wmo vu wal cA cB cB
      cxp cB cxp wss cA wrel vu cv vv cv cA wbr vv wmo vu wal cA cB cB cxp cB
      cxp wss cA cvv cvv cxp wss cA wrel cB cB cxp cB cxp cvv cvv cxp wss cA cB
      cB cxp cB cxp wss cA cvv cvv cxp wss wi cB cB cxp cB xpss cA cB cB cxp cB
      cxp wss cB cB cxp cB cxp cvv cvv cxp wss cA cvv cvv cxp wss cA cB cB cxp
      cB cxp cvv cvv cxp sstr2 com12 ax-mp cA wrel cA cvv cvv cxp wss cA df-rel
      biimpri syl adantr cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu
      wal simpr jca cA wfun cA wrel vu cv vv cv cA wbr vv wmo vu wal wa vu vv
      cA dffun6 biimpri syl 3adant1 3jca cB c0 wne cA cB cB cxp cB cxp wss cA
      wfun w3a cB c0 wne cA cB cB cxp cB cxp wss vu cv vv cv cA wbr vv wmo vu
      wal cB c0 wne cA cB cB cxp cB cxp wss cA wfun simp1 cB c0 wne cA cB cB
      cxp cB cxp wss cA wfun simp2 cA cB cB cxp cB cxp wss cA wfun vu cv vv cv
      cA wbr vv wmo vu wal cB c0 wne cA wfun vu cv vv cv cA wbr vv wmo vu wal
      cA cB cB cxp cB cxp wss cA wfun cA wrel vu cv vv cv cA wbr vv wmo vu wal
      cA wfun cA wrel vu cv vv cv cA wbr vv wmo vu wal wa vu vv cA dffun6
      biimpi simprd adantl 3adant1 3jca impbii anbi12i bitri $.
  $}

  ${
    $( Partial Binary Operation relation.  $)
    brpbo3 $p |- ( A PartialBinOp B <-> ( ( A e. _V /\ B e. _V ) /\ B =/= (/) /\ E. d ( d C_ ( B X. B ) /\ A : d --> B ) ) ) $=
      cA cB cpbo wbr cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp
      wss cA wfun w3a wa cA cvv wcel cB cvv wcel wa cB c0 wne vd cv cB cB cxp
      wss vd cv cB cA wf wa vd wex w3a cA cB brpbo2 cA cvv wcel cB cvv wcel wa
      cB c0 wne cA cB cB cxp cB cxp wss cA wfun w3a wa cA cvv wcel cB cvv wcel
      wa cB c0 wne vd cv cB cB cxp wss vd cv cB cA wf wa vd wex w3a cA cvv wcel
      cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss cA wfun w3a cA cvv wcel
      cB cvv wcel wa cB c0 wne vd cv cB cB cxp wss vd cv cB cA wf wa vd wex w3a
      cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss cA wfun w3a
      cA cvv wcel cB cvv wcel wa cB c0 wne vd cv cB cB cxp wss vd cv cB cA wf
      wa vd wex cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss cA
      wfun w3a ax-1 cB c0 wne cA cB cB cxp cB cxp wss cA wfun w3a cB c0 wne wi
      cA cvv wcel cB cvv wcel wa cB c0 wne cA cB cB cxp cB cxp wss cA wfun
      simp1 a1i cB c0 wne cA cB cB cxp cB cxp wss cA wfun w3a vd cv cB cB cxp
      wss vd cv cB cA wf wa vd wex wi cA cvv wcel cB cvv wcel wa cA cB cB cxp
      cB cxp wss cA wfun vd cv cB cB cxp wss vd cv cB cA wf wa vd wex cB c0 wne
      ? 3adant1 a1i 3jcad imp cA cvv wcel cB cvv wcel wa cB c0 wne vd cv cB cB
      cxp wss vd cv cB cA wf wa vd wex w3a cA cvv wcel cB cvv wcel wa cB c0 wne
      cA cB cB cxp cB cxp wss cA wfun w3a cA cvv wcel cB cvv wcel wa cB c0 wne
      vd cv cB cB cxp wss vd cv cB cA wf wa vd wex simp1 cA cvv wcel cB cvv
      wcel wa cB c0 wne vd cv cB cB cxp wss vd cv cB cA wf wa vd wex w3a cB c0
      wne cA cB cB cxp cB cxp wss cA wfun cA cvv wcel cB cvv wcel wa cB c0 wne
      vd cv cB cB cxp wss vd cv cB cA wf wa vd wex simp2 vd cv cB cB cxp wss vd
      cv cB cA wf wa vd wex cA cvv wcel cB cvv wcel wa cA cB cB cxp cB cxp wss
      cB c0 wne ? 3ad2ant3 vd cv cB cB cxp wss vd cv cB cA wf wa vd wex cA cvv
      wcel cB cvv wcel wa cA wfun cB c0 wne ? 3ad2ant3 3jca jca impbii bitri $.
  $}

  ${
    $d b A $.  $d b x y $.  $d u v x y $.
    $( we allow the possibility that ` dom A ` may be empty.

       [Bruck] p. 1 (Contributed by Richard Penner, 28-Sep-2019.) $)
    pbodm0 $p |- ( A = (/) -> A. b ( b =/= (/) -> ( A PartialBinOp b /\ dom A = (/) ) ) ) $=
      cA c0 wceq vb cv c0 wne cA vb cv cpbo wbr cA cdm c0 wceq wa wi vb cA c0
      wceq vb cv c0 wne cA vb cv cpbo wbr cA cdm c0 wceq cA c0 wceq vb cv c0
      wne cA vb cv cop cpbo wcel cA vb cv cpbo wbr cA c0 wceq cA vb cv cop c0
      vb cv cop wceq vb cv c0 wne cA vb cv cop cpbo wcel wi cA c0 vb cv opeq1
      vb cv c0 wne cA vb cv cop cpbo wcel cA vb cv cop c0 vb cv cop wceq c0 vb
      cv cop cpbo wcel vb cv c0 wne c0 vb cv cop vy cv c0 wne vx cv vy cv vy cv
      cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu wal w3a vx vy copab
      cpbo vb cv c0 wne vy cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss vu cv
      vv cv vx cv wbr vv wmo vu wal w3a vy vb cv wsbc vx c0 wsbc c0 vb cv cop
      vy cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv
      wmo vu wal w3a vx vy copab wcel vb cv c0 wne vb cv c0 wne c0 vb cv vb cv
      cxp vb cv cxp wss vu cv vv cv c0 wbr vv wmo vu wal vy cv c0 wne vx cv vy
      cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu wal w3a vy vb
      cv wsbc vx c0 wsbc vb cv c0 wne id c0 vb cv vb cv cxp vb cv cxp wss vb cv
      c0 wne vb cv vb cv cxp vb cv cxp 0ss a1i vu cv vv cv c0 wbr vv wmo vu wal
      vb cv c0 wne vu cv vv cv c0 wbr vv wmo vu vu cv vv cv c0 wbr vv wmo vu cv
      vv cv c0 wbr vv wex vu cv vv cv c0 wbr vv weu wi vu cv vv cv c0 wbr vv
      wex vu cv vv cv c0 wbr vv weu vu cv vv cv c0 wbr vv vu cv vv cv br0 nex
      pm2.21i vu cv vv cv c0 wbr vv df-mo mpbir ax-gen a1i vy cv c0 wne vx cv
      vy cv vy cv cxp vy cv cxp wss vu cv vv cv vx cv wbr vv wmo vu wal w3a vb
      cv c0 wne c0 vb cv vb cv cxp vb cv cxp wss vu cv vv cv c0 wbr vv wmo vu
      wal w3a vx vy c0 vb cv 0ex vb vex vx cv c0 wceq vy vb weq wa vy cv c0 wne
      vb cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss c0 vb cv vb cv cxp vb cv
      cxp wss vu cv vv cv vx cv wbr vv wmo vu wal vu cv vv cv c0 wbr vv wmo vu
      wal vy vb weq vy cv c0 wne vb cv c0 wne wb vx cv c0 wceq vy cv vb cv c0
      neeq1 adantl vx cv c0 wceq vx cv vy cv vy cv cxp vy cv cxp wss c0 vb cv
      vb cv cxp vb cv cxp wss wb vy vb weq vx cv c0 wceq vx cv vy cv vy cv cxp
      vy cv cxp wss c0 vb cv vb cv cxp vb cv cxp wss vx cv c0 wceq vx cv vy cv
      vy cv cxp vy cv cxp wss c0 vy cv vy cv cxp vy cv cxp wss vy cv vy cv cxp
      vy cv cxp 0ss vx cv c0 vy cv vy cv cxp vy cv cxp sseq1 mpbiri c0 vb cv vb
      cv cxp vb cv cxp wss vx cv c0 wceq vb cv vb cv cxp vb cv cxp 0ss a1i 2thd
      adantr vx cv c0 wceq vu cv vv cv vx cv wbr vv wmo vu wal vu cv vv cv c0
      wbr vv wmo vu wal wb vy vb weq vx cv c0 wceq vu cv vv cv vx cv wbr vv wmo
      vu cv vv cv c0 wbr vv wmo vu vx cv c0 wceq vu cv vv cv vx cv wbr vu cv vv
      cv c0 wbr vv vu cv vv cv vx cv c0 breq mobidv albidv adantr 3anbi123d
      sbc2ie syl3anbrc vy cv c0 wne vx cv vy cv vy cv cxp vy cv cxp wss vu cv
      vv cv vx cv wbr vv wmo vu wal w3a vx vy c0 vb cv opelopabsb sylibr vx vy
      vv vu df-pbo syl6eleqr cA vb cv cop c0 vb cv cop cpbo eleq1 syl5ibr syl
      cA vb cv cpbo df-br syl6ibr cA c0 wceq cA cdm c0 cdm c0 cA c0 dmeq dm0
      syl6eq jctird alrimiv $.
  $}

  ${
    $( Two binary operations ` A , B ` on G are equal ( ` A = B ` ) if and only
       if ` dom A = dom B ` and ` A = B ` on ` dom A ` .

       [Bruck] p. 1 $)
    eqpbo $p |- ( ( A PartialBinOp G /\ B PartialBinOp G ) -> ( A = B <-> ( dom A = dom B /\ A. x e. dom A ( A ` x ) = ( B ` x ) ) ) ) $= ? $.
  $}

$( We make the following conventions in connection with a binary operation ` A ` on ` G ` :

   [Bruck] p. 1
$)

  ${
    $( (1) If ` <. a , b >. ` is in ` dom A ` , we usually write the "product"
       ` ( a A b ) ` instead of ` ( A `` <. a , b >. ) ` .  See ~ df-ov .

       [Bruck] p. 1 $)
    pbov $p |- ( ( A PartialBinOp B /\ <. a , b >. e. dom A ) -> ( a A b ) = ( A ` <. a , b >. ) ) $= ? $.

  $}

$( (2) The statement " ` ( a A b ) ` is defined in ` G ` " means that
   ` <. a , b >. ` is in ` dom A ` .

   (3) The statement " ` a b = c ` in ` G ` " means ` <. a , b >. `
   is in ` dom A ` , ` c ` is in ` G ` and
   ` ( A `` <. a , b >. ) = c ` . It will be obvious from the
   context what operations are in question.

   [Bruck] p. 1
$)

$(
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#
                   Partial Magmas
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#

  A partial magma is a universal algebra with one (perhaps
  incompletely-defined) binary operation, which need not have any
  special conditions placed on it (other than the closure property
  common to binary operations).

  In [Bruck] and earlier works, these are called _halfgroupoids_
  which is not quantitatively correct and inconvinient in that
  groupoid is more commonly associated today with a entirely different
  concept in the theory of categories.
$)

$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
                   Definition and basic properties
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c PartialMagma $.
  $c SubPartialMagma $.

  $( Extend class notation with the class of all magmas. $)
  cpmgm $a class PartialMagma $.
  $( Define subset of Partial Magma. $)
  cspmgm $a class SubPartialMagma $.

  ${

    $d b g x y $.
    $( Definition of a partial magma.  A partial magma is a non-empty set
       equipped with perhaps only partially-defined internal operation ( see
       ~ pmgmcl ).

       Based on definition halfgroupoid in [Bruck] p. 1. $)
    df-pmgm $a |- PartialMagma = { g | [. ( Base ` g ) / b ]. [. ( +g ` g ) / p ]. ( b =/= (/) /\ A. x e. b A. y e. b ( <. x , y >. e. dom p -> ( x p y ) e. b ) ) } $.

  $}

  ${
    ispmgm.b $e |- B = ( Base ` G ) $.
    ispmgm.p $e |- .+ = ( +g ` G ) $.
    $( The predicate "is a partial magma." $)
    ispmgm $p |- ( G e. PartialMagma <-> ( B =/= (/) /\ A. a e. B A. b e. B ( <. a , b >. e. dom .+ /\ ( a .+ b ) e. B ) ) ) $= ? $.

  $}

  ${
    ispmgm2.b $e |- B = ( Base ` G ) $.
    ispmgm2.p $e |- .+ = ( +g ` G ) |` ( B X. B ) $.
    ispmgm2.s $e |- S = dom .+ $.
    $( The predicate "is a partial magma." $)
    ispmgm2 $p |- ( G e. PartialMagma <-> ( B =/= (/) /\ .+ : S --> B ) ) $= ? $.

  $}

  ${
    ispmgm3.b $e |- B = ( Base ` G ) $.
    ispmgm3.p $e |- .+ = ( +g ` G ) |` ( B X. B ) $.
    $( A _halfgroupoid_ ` G ` is a system consisting of a non-empty set ` G `
       and a binary operation on ` G ` .

       Based on definition halfgroupoid in [Bruck] p. 1. $)
    ispmgm3 $p |- ( G e. PartialMagma <-> .+ PartialBinOp B ) $= ? $.

  $}

$( A (proper or improper) subset ` H ` of the halfgroupoid ` G `
   is a _subhalfgroupoid_ ` G ` such that ` a b = c ` in ` G `
   whenever ` a b = c ` in ` H ` .

   Definition subhalfgroupoid in [Bruck] p. 1.
$)

  ${

    $d b c g h $.
    $( Definition of a sub partial magma.  A sub partial magma is partial magma
       where the operation (restricted to the base set) is a subset of that of
       another partial magma.

       Based on definition subhalfgroupoid in [Bruck] p. 1. $)
    df-spmgm $a |- SubPartialMagma = { <. h , g >. | ( h e. PartialMagma /\ g e. PartialMagma /\ [. ( Base ` g ) / b ]. [. ( +g ` g ) / p ]. [. ( Base ` h ) / c ]. [. ( +g ` h ) / o ]. ( o |` ( c X. c ) ) C_ ( p |` ( b X. b ) ) ) } $.

  $}


  ${
    isspmgm.c $e |- S = ( Base ` H ) $.
    isspmgm.b $e |- B = ( Base ` G ) $.
    isspmgm.o $e |- .(+) = ( +g ` H ) $.
    isspmgm.p $e |- .+ = ( +g ` G ) $.
    $( Relationship of a ` SubPartialMagma ` . $)
    isspmgm $p ( H SubPartialMagma G <-> ( H e. PartialMagma /\ G e. PartialMagma /\ ( .(+) |` ( H X. H ) ) C_ ( .+ |` ( B X. B ) ) ) ) $= ? $.
  $}

  ${
    isspmgm2.c $e |- S = ( Base ` H ) $.
    isspmgm2.b $e |- B = ( Base ` G ) $.
    isspmgm2.o $e |- .(+) = ( +g ` H ) |` ( S X. S ) $.
    isspmgm2.p $e |- .+ = ( +g ` G ) |` ( B X. B ) $.
    $( Relationship of a ` SubPartialMagma ` . $)
    isspmgm2 $p ( H SubPartialMagma G <-> ( H e. PartialMagma /\ G e. PartialMagma /\ .(+) C_ .+ ) ) $= ? $.
  $}


$(
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#
                   Magmas
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#

  A magma is a universal algebra with one binary operation, which
  need not have any special conditions placed on it (other than the
  closure property common to binary operations).
$)

$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
                   Definition and basic properties
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  $c MagmaNEW $.
  $c MagmaRP $.
  $c SubMagma $.

  $( Extend class notation with the class of all magmas. $)
  cmgmNEW $a class MagmaNEW $.
  $( Extend class notation with the class of all magmas. $)
  cmgm $a class MagmaRP $.
  $( Extend class notation with the relation of submagmas to magmas. $)
  csmgm $a class SubMagma $.

$( df-gsum can be used to map words to elements of a magma. See gsumval2a $)

$( mndcl proves a Mnd is closed under the binary operation, thus a magma. $)

  ${

    $d b g x y $.
    $( Definition of a magma.  A magma is a non-empty set equipped with a
       completely-defined internal operation ( see ~ mgmcl ).

       Based on definition groupoid in [Bruck] p. 1. $)
    df-mgmRP $a |- MagmaRP = { g e. PartialMagma | [. ( Base ` g ) / b ]. [. ( +g ` g ) / p ]. A. x e. b A. y e. b ( <. x , y >. e. dom b /\ ( x p y ) e. b ) } $.

  $}

  ${

    $d b g x y $.
    $( Definition of a magma.  A magma is a set equipped with an everywhere
       defined internal operation ( see ~ mgmclNEW ). $)
    df-mgmNEW $a |- MagmaNEW = { g | [. ( Base ` g ) / b ]. [. ( +g ` g ) / p ].
A. x e. b A. y e. b ( x p y ) e. b } $.
  $}

  ${
    $d u v y $.  $d u v x A $.  $d u v x B $.  $d u v x C $.  $d u v x F $.
    $( This lemma might be useful. $)
    dfmgm2lem1 $p |- ( A. x e. ( A X. B ) E! y e. C x F y <-> A. u e. A A. v e. B ( u F v ) e. C ) $=
        vx cv vy cv cF wbr vy cC wreu vu cv vv cv cF co cC wcel vx vu vv cA cB
        ? ralxp $.
  $}

  ${
    $( Definition of a magma. $)
    dfmgm2 $p |- MagmaNEW = { g | [. ( Base ` g ) / b ]. [. ( +g ` g ) / p ].
( p |` ( b X. b ) ) : ( b X. b ) --> b } $= ? $.
  $}

  ${
    ismgmRP.b $e |- B = ( Base ` G ) $.
    ismgmRP.p $e |- .+ = ( +g ` G ) $.
    $( The predicate "is a magma." $)
    ismgmRP $p |- ( G e. MagmaRP <-> ( B =/= (/) /\ A. a e. B A. b e. B ( <. a , b >. e. dom .+ /\ ( a .+ b ) e. B ) ) ) $= ? $.

  $}

  ${
    ismgm2.b $e |- B = ( Base ` G ) $.
    ismgm2.p $e |- .+ = ( +g ` G ) |` ( B X. B ) $.
    $( The predicate "is a magma." $)
    ismgm2 $p |- ( G e. MagmaRP <-> ( B =/= (/) /\ .+ : ( B X. B ) --> B ) ) $= ? $.
  $}

  ${
    ismgm3.b $e |- B = ( Base ` G ) $.
    ismgm3.p $e |- .+ = ( +g ` G ) $.
    $( A _groupoid_ ` G ` is a halfgroupoid such that ` a b ` is defined in
       ` G ` for all ` a , b ` in ` G ` .

       Based on definition halfgroupoid in [Bruck] p. 1. $)
    ismgm3 $p |- ( G e. MagmaRP <-> ( G e. PartialMagma /\ ( B X. B ) C_ dom .+ ) ) $= ? $.

  $}

  ${
    ismgm4.b $e |- B = ( Base ` G ) $.
    ismgm4.p $e |- .+ = ( +g ` G ) $.
    $( A _groupoid_ ` G ` is a halfgroupoid such that ` a b ` is defined in
       ` G ` for all ` a , b ` in ` G ` .

       Based on definition halfgroupoid in [Bruck] p. 1. $)
    ismgm4 $p |- ( G e. MagmaRP <-> ( G e. PartialMagma /\ A. a e. B A. b e. B <. a , b >. e. dom .+ ) ) $= ? $.

  $}

  ${

    $d a b g v p B $.  $d a b g v p G $.  $d a b g v p .+ $.
    ismgmNEW.g $e |- G e. _V $.
    ismgmNEW.b $e |- B = ( Base ` G ) $.
    ismgmNEW.p $e |- .+ = ( +g ` G ) $.
    $( The predicate "is a magma."  (Contributed by Richard Penner,
       21-Sep-2019.) $)
    ismgmNEW $p |- ( G e. MagmaNEW <-> A. a e. B A. b e. B ( a .+ b ) e. B ) $=
      cG cmgmNEW wcel cG va cv vb cv vp cv co vv cv wcel vb vv cv wral va vv cv
      wral vp vg cv cplusg cfv wsbc vv vg cv cbs cfv wsbc vg cab wcel va cv vb
      cv c.pl co cB wcel vb cB wral va cB wral cmgmNEW va cv vb cv vp cv co vv
      cv wcel vb vv cv wral va vv cv wral vp vg cv cplusg cfv wsbc vv vg cv cbs
      cfv wsbc vg cab cG va vb vg vp vv df-mgmNEW eleq2i va cv vb cv vp cv co
      vv cv wcel vb vv cv wral va vv cv wral vp vg cv cplusg cfv wsbc vv vg cv
      cbs cfv wsbc va cv vb cv c.pl co cB wcel vb cB wral va cB wral vg cG cG
      cvv wcel va cv vb cv c.pl co cB wcel vb cB wral va cB wral cG cvv
      ismgmNEW.g elexi a1i vg cv cG wceq va cv vb cv vp cv co vv cv wcel vb vv
      cv wral va vv cv wral vp vg cv cplusg cfv wsbc va cv vb cv c.pl co cB
      wcel vb cB wral va cB wral vv vg cv cbs cfv cB cvv vg cv cbs cfv cvv wcel
      vg cv cG wceq vg cv cbs fvex a1i vg cv cG wceq vg cv cbs cfv cG cbs cfv
      cB vg cv cG cbs fveq2 ismgmNEW.b syl6eqr vg cv cG wceq vv cv cB wceq wa
      va cv vb cv vp cv co vv cv wcel vb vv cv wral va vv cv wral va cv vb cv
      c.pl co cB wcel vb cB wral va cB wral vp vg cv cplusg cfv c.pl cvv vg cv
      cplusg cfv cvv wcel vg cv cG wceq vv cv cB wceq wa vg cv cplusg fvex a1i
      vg cv cG wceq vv cv cB wceq wa vg cv cplusg cfv cG cplusg cfv c.pl vg cv
      cG wceq vv cv cB wceq wa vg cv cG cplusg vg cv cG wceq vv cv cB wceq
      simpl fveq2d ismgmNEW.p syl6eqr vg cv cG wceq vv cv cB wceq wa vp cv c.pl
      wceq wa va cv vb cv vp cv co vv cv wcel vb vv cv wral va cv vb cv c.pl co
      cB wcel vb cB wral va vv cv cB vg cv cG wceq vv cv cB wceq vp cv c.pl
      wceq simplr vg cv cG wceq vv cv cB wceq wa vp cv c.pl wceq wa va cv vb cv
      vp cv co vv cv wcel va cv vb cv c.pl co cB wcel vb vv cv cB vg cv cG wceq
      vv cv cB wceq vp cv c.pl wceq simplr vg cv cG wceq vv cv cB wceq wa vp cv
      c.pl wceq wa va cv vb cv vp cv co va cv vb cv c.pl co vv cv cB vg cv cG
      wceq vv cv cB wceq wa vp cv c.pl wceq wa vp cv c.pl va cv vb cv vg cv cG
      wceq vv cv cB wceq wa vp cv c.pl wceq simpr oveqd vg cv cG wceq vv cv cB
      wceq vp cv c.pl wceq simplr eleq12d raleqbidv raleqbidv sbcied2 sbcied2
      elab3 bitri $.

  $}

  ${
    $d u w x B $.  $d u w x .+ $.
    $( A two-sided identity element is unique (if it exists) in any magma.
       (Contributed by Mario Carneiro, 7-Dec-2014.)  (Revised by NM,
       17-Jun-2017.) $)
    mgmidmoMOVE $p |- E* u e. B A. x e. B ( ( u .+ x ) = x /\ ( x .+ u ) = x ) $=
      ( vw cv co wceq wa wral wrmo weq wcel ralimi oveq1 id rspcva oveq2 eqeq1d
      eqeq12d wi simpl simpr sylan9req an42s syl2ani anbi12d ralbidv rmo4 mpbir
      ex rgen2a ) BFZAFZDGZUNHZUNUMDGZUNHZIZACJZBCKUTEFZUNDGZUNHZUNVADGZUNHZIZA
      CJZIBELZUAZECJBCJVIBECUTUMCMZVACMZIZUPACJZVEACJZVHVGUSUPACUPURUBNVFVEACVC
      VEUCNVLVMVNIVHVJVNVKVMVHVJVNIVKVMIUMUMVADGZVAVEVOUMHAUMCABLZVDVOUNUMUNUMV
      ADOVPPTQUPVOVAHAVACAELZUOVOUNVAUNVAUMDRVQPTQUDUEUKUFULUTVGBECVHUSVFACVHUP
      VCURVEVHUOVBUNUMVAUNDOSVHUQVDUNUMVAUNDRSUGUHUIUJ $.

  $}


  ${
    $d a b B $.  $d a b G $.  $d a b .+ $.  $d a b X $.  $d b Y $.
    mgmclNEW.g $e |- G e. _V $.
    mgmclNEW.b $e |- B = ( Base ` G ) $.
    mgmclNEW.p $e |- .+ = ( +g ` G ) $.
    $( Closure of the operation of a magma.  (Contributed by Richard Penner,
       22-Sep-2019.) $)
    mgmclNEW $p |- ( ( G e. MagmaNEW /\ X e. B /\ Y e. B ) -> ( X .+ Y ) e. B ) $=
      cG cmgmNEW wcel cX cB wcel cY cB wcel cX cY c.pl co cB wcel cG cmgmNEW
      wcel va cv vb cv c.pl co cB wcel vb cB wral va cB wral cX cB wcel cY cB
      wcel wa cX cY c.pl co cB wcel cG cmgmNEW wcel va cv vb cv c.pl co cB wcel
      vb cB wral va cB wral cB c.pl cG va vb mgmclNEW.g mgmclNEW.b mgmclNEW.p
      ismgmNEW biimpi va cv vb cv c.pl co cB wcel cX cY c.pl co cB wcel cX vb
      cv c.pl co cB wcel va vb cX cY cB cB va cv cX wceq va cv vb cv c.pl co cX
      vb cv c.pl co cB va cv cX vb cv c.pl oveq1 eleq1d vb cv cY wceq cX vb cv
      c.pl co cX cY c.pl co cB vb cv cY cX c.pl oveq2 eleq1d rspc2v mpan9 3impb
      $.

  $}

$(
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#
                   Monoids (additional)
#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#*#
$)

$(
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
                   Definition and basic properties (additional)
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
$)

  ${

    $( A monoid is a magma. $)
    mndmgm $p |- ( G e. Mnd -> G e. MagmaNEW ) $= ? $.

  $}
